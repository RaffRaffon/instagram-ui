[{"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\index.js":"1","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\reportWebVitals.js":"2","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\App.js":"3","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\user-context.js":"4","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Header\\Header.js":"5","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Login\\Login.js":"6","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\services\\user.service.js":"7","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Register\\Register.js":"8","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\PostCreate\\PostCreate.js":"9","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Feed\\Feed.js":"10","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Search\\Search.js":"11","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Profile\\Profile.js":"12","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\PostPage\\PostPage.js":"13","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Login\\login.schema.js":"14","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Register\\register.schema.js":"15","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\PostCreate\\post-create.schema.js":"16","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\services\\post.service.js":"17","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Header\\HeaderAvatar\\HeaderAvatar.js":"18","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Header\\Menu\\Menu.js":"19","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\environments\\index.js":"20","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Search\\SearchResult\\SearchResult.js":"21","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Profile\\ProfileHeader\\ProfileHeader.js":"22","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Avatar\\Avatar.js":"23","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Post\\Post.js":"24","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Post\\PostDate\\PostDate.js":"25","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\environments\\development.js":"26","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Login\\LoginBasic.js":"27","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Post\\PostLike\\PostLike.js":"28","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Profile\\ProfileEdit\\ProfileEdit.js":"29","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Comments\\Comments.js":"30","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Comments\\CommentAdd\\CommentAdd.js":"31","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Comments\\Comment\\Comment.js":"32","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Profile\\ProfileEdit\\profileedit.schema.js":"33","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Comments\\CommentDate\\CommentDate.js":"34","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Logout\\Logout.js":"35","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\environments\\production.js":"36","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Explore\\Explore.js":"37","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\PostEdit\\PostEdit.js":"38"},{"size":680,"mtime":1615581619822,"results":"39","hashOfConfig":"40"},{"size":375,"mtime":1614806053308,"results":"41","hashOfConfig":"40"},{"size":3737,"mtime":1617057033488,"results":"42","hashOfConfig":"40"},{"size":102,"mtime":1617046817854,"results":"43","hashOfConfig":"40"},{"size":531,"mtime":1616190279517,"results":"44","hashOfConfig":"40"},{"size":2758,"mtime":1617046810810,"results":"45","hashOfConfig":"40"},{"size":5070,"mtime":1617032459989,"results":"46","hashOfConfig":"40"},{"size":4962,"mtime":1617052567689,"results":"47","hashOfConfig":"40"},{"size":3074,"mtime":1616858742100,"results":"48","hashOfConfig":"40"},{"size":672,"mtime":1615300979370,"results":"49","hashOfConfig":"40"},{"size":966,"mtime":1615493972730,"results":"50","hashOfConfig":"40"},{"size":3671,"mtime":1616520116823,"results":"51","hashOfConfig":"40"},{"size":1664,"mtime":1615827523565,"results":"52","hashOfConfig":"40"},{"size":162,"mtime":1614806053298,"results":"53","hashOfConfig":"40"},{"size":1438,"mtime":1616937970741,"results":"54","hashOfConfig":"40"},{"size":216,"mtime":1614806053300,"results":"55","hashOfConfig":"40"},{"size":3782,"mtime":1616778374201,"results":"56","hashOfConfig":"40"},{"size":945,"mtime":1617046457425,"results":"57","hashOfConfig":"40"},{"size":1071,"mtime":1616778925101,"results":"58","hashOfConfig":"40"},{"size":233,"mtime":1616433633612,"results":"59","hashOfConfig":"40"},{"size":616,"mtime":1615494009731,"results":"60","hashOfConfig":"40"},{"size":1035,"mtime":1616522308021,"results":"61","hashOfConfig":"40"},{"size":558,"mtime":1616440361222,"results":"62","hashOfConfig":"40"},{"size":1332,"mtime":1616779129486,"results":"63","hashOfConfig":"40"},{"size":386,"mtime":1615579754881,"results":"64","hashOfConfig":"40"},{"size":70,"mtime":1616433378956,"results":"65","hashOfConfig":"40"},{"size":690,"mtime":1615140617819,"results":"66","hashOfConfig":"40"},{"size":2372,"mtime":1617056702066,"results":"67","hashOfConfig":"40"},{"size":8043,"mtime":1617046155303,"results":"68","hashOfConfig":"40"},{"size":967,"mtime":1616278757441,"results":"69","hashOfConfig":"40"},{"size":721,"mtime":1616278223750,"results":"70","hashOfConfig":"40"},{"size":1399,"mtime":1616768725739,"results":"71","hashOfConfig":"40"},{"size":2195,"mtime":1616940884382,"results":"72","hashOfConfig":"40"},{"size":392,"mtime":1616275140671,"results":"73","hashOfConfig":"40"},{"size":482,"mtime":1617051502272,"results":"74","hashOfConfig":"40"},{"size":88,"mtime":1616433374283,"results":"75","hashOfConfig":"40"},{"size":798,"mtime":1616779558271,"results":"76","hashOfConfig":"40"},{"size":2215,"mtime":1617059271030,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"1214xhg",{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"80"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"80"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"80"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"80"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"80"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"80"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"139","messages":"140","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"141","messages":"142","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"80"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"150","usedDeprecatedRules":"80"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"80"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158","usedDeprecatedRules":"80"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\index.js",[],["165","166"],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\reportWebVitals.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\App.js",["167","168"],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\user-context.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Header\\Header.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Login\\Login.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\services\\user.service.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Register\\Register.js",["169","170","171"],"import React, { useState,useEffect } from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './Register.scss';\r\nimport avatarDefault from '../common/Avatar/avatar.jpg';\r\nimport { registerSchema } from './register.schema';\r\nimport { UserService } from '../services/user.service';\r\n\r\nfunction Register() {\r\n\tconst history = useHistory();\r\n\tconst [showSuccess, setSuccess] = useState(false);\r\n\tconst [showImage,setShowImage]=useState(null)\r\n\tconst [disabled,setDisabled]=useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tlet avatar=\"\"\r\n\t\tif (avatarDefault.includes(\"jpeg\")) {\r\n\t\t\tavatar=avatarDefault.replace(\"data:image/jpeg;base64,\",\"\");\r\n\t\t\tsetShowImage(avatar)}\r\n\t},[])\r\n\r\n\tuseEffect(() => {\r\n\r\n\t},[])\r\n\t\r\n\tfunction submit(values) {\r\n\t\tconsole.log(\"working\")\r\n\t\tsetDisabled(true)\r\n\t\tvalues.avatar=showImage\r\n\t\tUserService.create(values)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res.status === 201) {\r\n\t\t\t\t\tsetSuccess(true);\r\n\t\t\t\t\tsetTimeout(() => history.push('/login'), 2000);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (res.status === 413){\r\n\t\t\t\t\talert(\"file too big, crop it or change it\")\r\n\t\t\t\t\tsetDisabled(false)\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('failure!!!');\r\n\t\t\t});\r\n\t\t\t\r\n\t}\r\n\tfunction encodeImageFileAsURL(element) {\r\n\t\treturn new Promise((res, rej) => { \r\n\t\t\tvar file = element.target.files[0];\r\n\t\t\tvar reader = new FileReader();\r\n\t\t\treader.onloadend = () => {\r\n\t\t\t\tconsole.log(reader)\r\n\t\t\t\tres(reader.result)\r\n\t\t\t}\r\n\t\t\treader.readAsDataURL(file);\r\n\r\n\t\t})\r\n\t  }\r\n\r\n\treturn (\r\n\t\t<div className=\"Register d-flex justify-content-center\">\r\n\t\t\t<div className=\"col col-lg-4 my-5\">\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<h2 className=\"Register__title\">Register</h2>\r\n\t\t\t\t\t<h3 className=\"Register__subtitle\">It's quick and easy</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={{username: '', password: '', email: '', agreeToTerms: false,avatar: ''}}\r\n\t\t\t\t\tvalidationSchema={registerSchema}\r\n\t\t\t\t\tvalidateOnChange={true}\r\n\t\t\t\t\tonSubmit={submit}>\r\n\t\t\t\t\t{({ disabled,setFieldValue,isSubmitting }) => (\r\n\t\t\t\t\t\t<Form className=\"Register__form mt-5 px-0\" noValidate>\r\n\t\t\t\t\t\t\t<div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"username\">Username</label>\r\n\t\t\t\t\t\t\t\t<Field type=\"username\" className=\"form-control\" id=\"username\" name=\"username\" placeholder=\"2-16 characters\" />\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"username\" className=\"Register__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"email\">Email</label>\r\n\t\t\t\t\t\t\t\t<Field type=\"email\" className=\"form-control\" id=\"email\" name=\"email\" placeholder=\"Email address...\" />\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"email\" className=\"Register__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"password\">Password</label>\r\n\t\t\t\t\t\t\t\t<Field type=\"password\" className=\"form-control\" name=\"password\" id=\"password\" placeholder=\"6-16 characters\" />\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"password\" className=\"Register__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group my-3\">Avatar\r\n\t\t\t\t\t\t\t\t<input type=\"file\"\r\n\t\t\t\t\t\t\t\t       id=\"avatar\"\r\n\t\t\t\t\t\t\t\t       name=\"avatar\"\r\n\t\t\t\t\t\t\t\t       className=\"form-control\"\r\n\t\t\t\t\t\t\t\t       onChange={async (e) =>{ setFieldValue('image', e.target.files[0])\r\n\t\t\t\t\t\t\t\t\t   let imageString=await encodeImageFileAsURL(e)\r\n\t\t\t\t\t\t\t\t\t   if (imageString.includes(\"png\")) {imageString = \r\n\t\t\t\t\t\t\t\t\t\t   imageString.replace(\"data:image/png;base64,\",\"\")\r\n\t\t\t\t\t\t\t\t\t\t   setShowImage(imageString)}\r\n\t\t\t\t\t\t\t\t\t   if (imageString.includes(\"jpeg\")) {\r\n\t\t\t\t\t\t\t\t\t\t   imageString=imageString.replace(\"data:image/jpeg;base64,\",\"\");\r\n\t\t\t\t\t\t\t\t\t\t   setShowImage(imageString)}\r\n\t\t\t\t\t\t\t\t\t   }}/>\r\n\t\t\t\t\t\t\t\t\t   Small:\r\n                                          <img src={'data:; base64,' + showImage  } className=\"Avatar Avatar--md\"  />\r\n\t\t\t\t\t\t\t\t\t\t  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t  Large:\r\n\t\t\t\t\t\t\t\t\t\t  <img src={'data:; base64,' + showImage } className=\"Avatar Avatar--lg\"  />\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"image\" className=\"PostCreate__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group my-3 form-check\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Field type=\"checkbox\" id=\"agreeToTerms\" name=\"agreeToTerms\" className=\"form-check-input\" />\r\n\t\t\t\t\t\t\t\t\t<label htmlFor=\"agreeToTerms\" className=\"form-check-label\">Agree to terms</label>\r\n\t\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"agreeToTerms\" className=\"Register__form__error\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t{ showSuccess\r\n\t\t\t\t\t\t\t\t\t? <div className=\"alert alert-success Register__success\"><b>Success!</b> Wait for transfer...</div>\r\n\t\t\t\t\t\t\t\t\t: <button type=\"submit\" className=\"mt-3 Register__submit-btn\" disabled={disabled}>Submit</button>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Register;\r\n","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\PostCreate\\PostCreate.js",["172","173"],"import React,{  useState,useEffect } from 'react';\r\nimport './PostCreate.scss';\r\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { PostCreateSchema } from './post-create.schema';\r\nimport environment from '../environments/index';\r\nimport { UserService } from '../services/user.service';\r\nfunction PostCreate() {\r\n\t\r\n\tconst history = useHistory();\r\n\tlet [showImage,setShowImage]=useState(null)\r\n\tconst [showPreview,setShowPreview]=useState(false)\r\n\tasync function submit(values) {\r\n\t\tconst data = new FormData();\r\n\t\tdata.append('image', values.image);\r\n\t\tdata.append('description', values.description);\r\n\r\n\t\ttry {\r\n\t\t\tawait fetch(environment.apiUrl + '/post', {\r\n\t\t\t\tmethod: 'PUT',\r\n\t\t\t\tbody: data,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: UserService.getToken()\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\thistory.push('/explore');\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\tfunction encodeImageFileAsURL(element) {\r\n\t\treturn new Promise((res, rej) => { \r\n\t\t\tvar file = element.target.files[0];\r\n\t\t\tvar reader = new FileReader();\r\n\t\t\treader.onloadend = () => {\r\n\t\t\t\tconsole.log(reader)\r\n\t\t\t\tres(reader.result)\r\n\t\t\t}\r\n\t\t\treader.readAsDataURL(file);\r\n\r\n\t\t})\r\n\t  }\r\n\r\n\t\r\n\treturn (\r\n\t\t<div className=\"d-flex row\">\r\n\t\t\t<div className=\"col-lg-6 order-sm-0 order-lg-1 my-3\">\r\n\t\t\t\t<h2 className=\"PostCreate__title\">Create Post</h2>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={{ image: '', description: '' }}\r\n\t\t\t\t\tvalidationSchema={PostCreateSchema}\r\n\t\t\t\t\tonSubmit={submit}>\r\n\t\t\t\t\t{({ setFieldValue, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form className=\"PostCreate__form mt-5 col-lg-8 px-0\" noValidate>\r\n\t\t\t\t\t\t\t<div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t<input type=\"file\"\r\n\t\t\t\t\t\t\t\t       id=\"image\"\r\n\t\t\t\t\t\t\t\t       name=\"image\"\r\n\t\t\t\t\t\t\t\t       className=\"form-control\"\r\n\t\t\t\t\t\t\t\t       onChange={async (e) =>{ setFieldValue('image', e.target.files[0])\r\n\t\t\t\t\t\t\t\t\t   let imageString=await encodeImageFileAsURL(e)\r\n\t\t\t\t\t\t\t\t\t   imageString = imageString.replace(\"data:image/png;base64,\",\"\");\r\n\t\t\t\t\t\t\t\t\t   console.log(imageString)\r\n\t\t\t\t\t\t\t\t\t\tsetShowPreview(true)\r\n\t\t\t\t\t\t\t\t\t   setShowImage(imageString)\r\n\t\t\t\t\t\t\t\t\t   console.log(showImage)}}/>\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"image\" className=\"PostCreate__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t<label className=\"form-label\" htmlFor=\"description\">Description</label>\r\n\t\t\t\t\t\t\t\t<Field as=\"textarea\" className=\"form-control\" name=\"description\" id=\"description\" />\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"description\" className=\"PostCreate__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group text-right my-3\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\"\r\n\t\t\t\t\t\t\t\t        className=\"mt-3 PostCreate__submit-btn\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}>\r\n\t\t\t\t\t\t\t\t\t{ isSubmitting ? 'Posting...' : 'Post' }\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t{showPreview && <img src={'data:; base64,' + showImage} className=\"Post__image\" />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default PostCreate;\r\n","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Feed\\Feed.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Search\\Search.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Profile\\Profile.js",["174","175","176","177","178","179"],"import React, { useEffect, useState,useContext } from 'react';\r\nimport './Profile.scss';\r\nimport { useParams } from 'react-router-dom';\r\nimport { UserService } from '../services/user.service';\r\nimport Post from '../common/Post/Post';\r\nimport ProfileHeader from './ProfileHeader/ProfileHeader';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPencilAlt  } from '@fortawesome/free-solid-svg-icons';\r\nimport { faMemory  } from '@fortawesome/free-solid-svg-icons';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContext } from '../user-context';\r\n function Profile() {\r\n\r\n\tconst { username } = useParams(); // followed user \r\n\tconst [posts, setPosts] = useState([]);\r\n\t// const [likes, setLikes] = useState([]);\r\n\tconst [showEdit,setShowEdit]=useState(false)\r\n\tconst [showFollow,setShowFollow]=useState(true)\r\n\tconst [showUnfollow,setShowUnfollow]=useState(false)\r\n\tconst [followingUserId,setFollowingUserId] = useState(\"\")\r\n\tconst [followedUserId,setFollowedUserId] = useState(\"\")\r\n\tconst [userData,setUserData]=useState(\"\")\r\n\r\n\tuseEffect(async() => {\r\n\t\tconst user = await UserService.me(); // following user\r\n\t\tif (username===user.username){\r\n\t\t\tsetShowEdit(true)\r\n\t\t} else {\r\n\t\t\tsetShowEdit(false)\r\n\t\t}\r\n\t\tasync function getPosts() {\r\n\t\t\ttry {\r\n\t\t\t\tconst posts = await UserService.getPosts(username);\r\n\t\t\t\tsetPosts(posts);\r\n\t\t\t} catch(err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t}\r\n\t\tasync function checkIfFollow(){\r\n\t\t\tconst status = await UserService.checkIfFollow(followingUserId,followedUserId)\r\n\t\t\tconsole.log(status)\r\n\t\t\tif (status===200){\r\n\t\t\t\tsetShowFollow(false)\r\n\t\t\t\tsetShowUnfollow(true)\r\n\t\t\t} else {\r\n\t\t\t\tsetShowFollow(true)\r\n\t\t\t\tsetShowUnfollow(false)\r\n\t\t\t}\r\n\t\t\tif (followingUserId===followedUserId){\r\n\t\t\t\tsetShowFollow(false)\r\n\t\t\t\tsetShowUnfollow(false)\r\n\t\t\t}\r\n\t\t}\r\n\t\tasync function getUserData(){\r\n\t\t\tconst data = await UserService.getUserData(username)\r\n\t\t\tsetFollowedUserId(data._id)\r\n\t\t\tsetFollowingUserId(user._id)\r\n\t\t}\r\n\t\tgetUserData()\r\n\t\tcheckIfFollow()\r\n\t\tgetPosts();\r\n\t\t\r\n\t}, [username,followingUserId]);\r\n\t\r\n\t\r\n\t\r\n\tasync function follow(){\r\n\t\tawait UserService.follow(followingUserId,followedUserId)\r\n\t\tsetShowFollow(false)\r\n\t\t\t\tsetShowUnfollow(true)\r\n\t}\r\n\r\n\tasync function unfollow(){\r\n\t\tawait UserService.unfollow(followingUserId,followedUserId)\r\n\t\tsetShowFollow(true)\r\n\t\t\t\tsetShowUnfollow(false)\r\n\t\t\t\r\n\t}\r\n\t\r\n\tasync function getPosts() {\r\n\t\ttry {\r\n\t\t\tconst posts = await UserService.getPosts(username);\r\n\t\t\tsetPosts(posts);\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\t\r\n\t// async function getFollowers(){\r\n\t// \tconst followers = await UserService.getFollowers(username)\r\n\t// \tsetFollowers(followers.length)\r\n\t// }\r\n\t// function check(){\r\n\t// \tconsole.log(\"followingUserId:\",followingUserId,\"followedUserId:\",followedUserId)\r\n\t// }\r\n\treturn (\r\n\t<>\r\n\t\t<ProfileHeader username={username} postNum={posts.length}  />\r\n\t\t{showEdit && <div className=\"nav-item\">\r\n\t\t\t\t<Link className=\"nav-link\" to={\"/profile/\"+username+\"/edit\"}>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faPencilAlt} />\r\n\t\t\t\t</Link>\r\n\t\t\t</div>}\r\n\t\t\t{/* <button onClick={check}>check follow data</button> */}\r\n\t\t\t{showFollow && <div className=\"nav-item\">\r\n\t\t\t\t\t<button onClick={follow}>Follow   <FontAwesomeIcon icon={faMemory} /></button>\r\n\t\t\t</div>}\r\n\t\t\t{showUnfollow && <div className=\"nav-item\">\r\n\t\t\t\t\t<button onClick={unfollow}>Unfollow   <FontAwesomeIcon icon={faMemory} /></button>\r\n\t\t\t</div>}\r\n\t\t<hr />\r\n\t\t<div className=\"row\">\r\n\t\t\t{posts.map(post => (\r\n\t\t\t\t<Post key={post._id} data={post} username={{username}} getPosts={getPosts} />\r\n\t\t\t))}\r\n\t\t</div>\r\n\t\t<ul className=\"nav\">\r\n\t\t\t\r\n\t\t\t<ul></ul></ul>\r\n\t\t\r\n\t</>\r\n\t);\r\n}\r\n\r\nexport default Profile;\r\n","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\PostPage\\PostPage.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Login\\login.schema.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Register\\register.schema.js",["180"],"import * as yup from 'yup';\r\nimport environment from '../environments/index';\r\nimport { UserService } from '../services/user.service';\r\nexport const registerSchema = yup.object().shape({\r\n\tusername: yup.string()\r\n\t\t.min(2, 'Username is too short')\r\n\t\t.max(16, 'Username is too long')\r\n\t\t.required('Username is required')\r\n\t\t.test('isUnique', 'Username is already taken', (value) => isUsernameUnique(value)),\r\n\temail: yup.string()\r\n\t\t.email('Email is invalid')\r\n\t\t.required('Email is required')\r\n\t\t.test('isUnique', 'Email is in use', (value) => isEmailUnique(value)),\r\n\tpassword: yup.string()\r\n\t\t.min(6, 'Password is too short')\r\n\t\t.max(16, 'Password is too long')\r\n\t\t.required('Password is required'),\r\n\tagreeToTerms: yup.mixed().oneOf([true], 'You must agree to terms')\r\n});\r\n\r\n// const memo = {\r\n// \temail: {},\r\n// \tusername: {}\r\n// };\r\n\r\n// function isUnique(field, value) {\r\n// \tconsole.log(memo[field][value])\r\n// \t// if (memo[field].hasOwnProperty(value)) {\r\n// \t// \treturn memo[field][value];\r\n// \t// }\r\n// \tfetch(environment.apiUrl+`/user/check?${field}=${value}`)\r\n// \t\t.then(res => res.json())\r\n// \t\t.then(res => {\r\n// \t\t\tmemo[field][value] = !res;\r\n// \t\t\treturn memo[field][value];\r\n// \t\t})\r\n// }\r\nasync function isUsernameUnique(value){\r\n\tconst result = await UserService.checkUsername(value)\r\n\treturn result\r\n}\r\n\r\nasync function isEmailUnique(value){\r\n\tconst result = await UserService.checkEmail(value)\r\n\treturn result\r\n}\r\n","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\PostCreate\\post-create.schema.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\services\\post.service.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Header\\HeaderAvatar\\HeaderAvatar.js",["181","182"],"\r\nimport React, { useEffect, useState,useContext } from 'react';\r\nimport './HeaderAvatar.scss';\r\nimport Avatar from '../../common/Avatar/Avatar';\r\nimport { UserContext } from '../../user-context';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserService } from '../../services/user.service';\r\nfunction HeaderAvatar() {\r\n\t// const { userObject } = useContext(UserContext);\r\n\t\r\n\tasync function getUser(){\r\n\t\tconst user = await UserService.me();\r\n\t\tconst userData = await UserService.getUserData(user.username)\r\n\t\tsetUserData(userData);\r\n  }\r\n  const [userData,setUserData]=useState({})\r\n  useEffect(() => {\r\n\t\tgetUser();\r\n\t\t\r\n  }, []);\r\n\treturn (\r\n\t\t<div className=\"HeaderAvatar\">\r\n\t\t\t<Link to={'/profile/' + userData.username}>\r\n\t\t\t\t<Avatar size=\"md\" image={userData.avatar} />\r\n\t\t\t\t<span className=\"mx-2 HeaderAvatar__username d-none d-lg-block\">{ userData.username }</span>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default HeaderAvatar;\r\n","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Header\\Menu\\Menu.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\environments\\index.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Search\\SearchResult\\SearchResult.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Profile\\ProfileHeader\\ProfileHeader.js",["183","184","185"],"import React, { useEffect, useState } from 'react';\r\nimport { UserService } from '../../services/user.service';\r\nimport Avatar from '../../common/Avatar/Avatar';\r\n\r\n function ProfileHeader({ username, postNum,followersNum }) {\r\n\r\n\tconst [user, setUser] = useState({});\r\n\tconst [userData,setUserData]= useState([])\r\n\tconst [followers,setFollowers] = useState(0)\r\n\tuseEffect(() => {\r\n\t\tasync function getUser() {\r\n\t\t\ttry {\r\n\t\t\t\tconst user = await UserService.get(username);\r\n\t\t\t\tsetUser(user);\r\n\t\t\t\tconst data = await UserService.getUserData(username)\r\n\t\t\tsetUserData(data)\r\n\t\t\t} catch (err){\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tgetUser();\r\n\t\tconsole.log(userData)\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tconsole.log(userData)\r\n\t  }, [userData])\r\n\treturn (\r\n\t\t<div className=\"mt-5\">\r\n\t\t\t<Avatar image={user.avatar} size=\"lg\" />\r\n\t\t\t<h2>{user.username}</h2>\r\n\t\t\t<p>{postNum} posts</p>\r\n\t\t<p> {userData?.followers?.length} followers</p>\r\n\t\t<p> {userData?.following?.length} following</p>\t\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ProfileHeader;\r\n","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Avatar\\Avatar.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Post\\Post.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Post\\PostDate\\PostDate.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\environments\\development.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Login\\LoginBasic.js",["186"],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Post\\PostLike\\PostLike.js",["187","188","189"],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Profile\\ProfileEdit\\ProfileEdit.js",["190","191","192","193","194"],"import { Formik, Form, Field, ErrorMessage } from 'formik';\r\nimport { profileedit } from './profileedit.schema';\r\nimport React, { useEffect, useState,useContext } from 'react';\r\nimport { UserService } from '../../services/user.service';\r\nimport avatarDefault from '../../common/Avatar/avatar.jpg';\r\nimport './ProfileEdit.scss';\r\nimport { UserContext } from '../../user-context';\r\nimport Cookies from 'js-cookie';\r\nfunction ProfileEdit() {\r\n\tconst { setUser,  userObject } = useContext(UserContext);\r\n      const [showSuccess, setSuccess] = useState(false);\r\n\t  const [currentUser,setCurrentUser] = useState(\"\")\r\n      async function getUser(){\r\n            const user = await UserService.me();\r\n            const userData = await UserService.getUserData(user.username)\r\n            setUserData(userData);\r\n\t\t\tconsole.log(userData)\r\n\t\t\tsetCurrentUser(user.username)\r\n      }\r\n      const [userData,setUserData]=useState({})\r\n      useEffect(() => {\r\n            getUser();\r\n\t\t\tgetUser();\r\n      }, []);\r\n      \r\n      const [editIt,setEditIt] = useState(false)\r\n      const[username ,setUsername] = useState(\"\");\r\n      const[password ,setPassword] = useState(\"\");\r\n      const[bio ,setBio] = useState(\"\");\r\n      const [email,setEmail]=useState(\"\")\r\n      const [showImage,setShowImage]=useState(\"\")\r\n      let [values,setValues]=useState({})\r\n      useEffect(() => {\r\n            setUsername(userData.username)\r\n            setEmail(userData.email)\r\n            setBio(userData.bio)\r\n\t\t\tsetShowImage(userData.avatar)\r\n      },[userData])\r\n      useEffect(() => {\r\n\t\tlet avatar=\"\"\r\n\t\tif (avatarDefault.includes(\"jpeg\")) {\r\n\t\t\tavatar=avatarDefault.replace(\"data:image/jpeg;base64,\",\"\");\r\n\t\t\tsetShowImage(avatar)}\r\n\t},[userData])\r\n\t\t\r\n    \t function submit(){\r\n            if (password===\"\"){\r\n                  setValues({\r\n\t\t\t\t\t\tcurrentUser:currentUser,\r\n                        username : username,\r\n                        password : userData.password,\r\n                        bio:bio,\r\n                        email:email,\r\n\t\t\t\t\t\tavatar: showImage\r\n                  })\r\n\t\t\t\t  \r\n                  setEditIt(true)\r\n\t\t\t\t  setEditIt(false)\r\n            } if (password!==\"\") {\r\n                  setValues({\r\n\t\t\t\t\t\tcurrentUser:currentUser,\r\n                        username : username,\r\n                        password : password,\r\n                        bio:bio,\r\n                        email:email\r\n                  })\r\n\t\t\t\t  setEditIt(true)\r\n\t\t\t\t  setEditIt(false)\r\n            }  \r\n      }\r\n      \r\n\t  useEffect(() => {\r\n\t\tconsole.log(\"this is working first\",\"user is:\",userObject)\r\n\t\tUserService.edit(values)\r\n\t\tconsole.log(username)\r\n\t\tsetUser(username)\r\n\r\n\t\tlet toSend={}\r\n\t\tif (password===\"\"){\r\n\t\t\ttoSend={username:username,password:userData.password}\r\n\t\t}\r\n\t\t \r\n\t\tif (password!==\"\"){\r\n\t\t\t toSend={username:username,password:password}\r\n\t\t}\r\n\t\tasync function reCred(toSend) {\r\n\t\t\tconsole.log(\"toSend:\",toSend)\r\n\t\t\tconst res = await UserService.editLogin(toSend);\r\n\t\t\tconst json = await res.json();\r\n\t\t\tCookies.remove('instagram-user');\r\n\t\t\tCookies.set('instagram-user', json.token, { expires: 30 });\r\n\t\t}\r\n\t\treCred(toSend)\r\n\t\tconsole.log(\"setUser is now:\",userObject)\r\n\t  },[editIt])\r\n\r\n\t\r\n      function encodeImageFileAsURL(element) {\r\n\t\treturn new Promise((res, rej) => { \r\n\t\t\tvar file = element.target.files[0];\r\n\t\t\tvar reader = new FileReader();\r\n\t\t\treader.onloadend = () => {\r\n\t\t\t\tconsole.log(reader)\r\n\t\t\t\tres(reader.result)\r\n\t\t\t}\r\n\t\t\treader.readAsDataURL(file);\r\n\r\n\t\t})\r\n\t  }\r\n     \r\n\treturn (\r\n\t// \t<div>\r\n      //       Edit username:<input type=\"text\" value={username} onChange={event => setUsername(event.target.value)} />\r\n      //      {changePassword &&<div> Edit password:<input type=\"text\" value={password}  onChange={event => setPassword(event.target.value)} /></div>}\r\n      //      <div> Edit email:<input type=\"text\" value={email} onChange={event => setEmail(event.target.value)} /></div>\r\n      //      <div> Edit bio: <input type=\"text\" maxLength=\"1000\" value={bio} onChange={event => setBio(event.target.value)} /></div>\r\n      //      <div> Edit avatar:</div>\r\n      //      <button onClick={submit}>submit</button>\r\n      //      <button onClick={togglePassword}>Change password?</button>\r\n      //   </div>\r\n        <div className=\"Register d-flex justify-content-center\">\r\n\t\t\t<div className=\"col col-lg-4 my-5\">\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<h2 className=\"Register__title\">Edit</h2>\r\n\t\t\t\t\t<h3 className=\"Register__subtitle\">It's quick and easy</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Formik\r\n                              enableReinitialize={true}\r\n\t\t\t\t\tinitialValues={{username: username, password: password, email: email, Bio:bio }}\r\n\t\t\t\t\tvalidationSchema={profileedit}\r\n\t\t\t\t\tvalidateOnChange={true}\r\n\t\t\t\t\tonSubmit={submit}>\r\n\t\t\t\t\t{({ setFieldValue,isSubmitting }) => (\r\n\t\t\t\t\t\t<Form className=\"Register__form mt-5 px-0\" noValidate>\r\n\t\t\t\t\t\t\t<div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"username\">Username</label>\r\n\t\t\t\t\t\t\t\t<Field type=\"username\" className=\"form-control\" id=\"username\" name=\"username\" onChange={event => {setUsername(event.target.value) }}  />\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"username\" className=\"Register__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"email\">Email</label>\r\n\t\t\t\t\t\t\t\t<Field type=\"email\" className=\"form-control\" id=\"email\" name=\"email\" onChange={event => setEmail(event.target.value)} />\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"email\" className=\"Register__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t <div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"password\">Password</label>\r\n\t\t\t\t\t\t\t\t <Field  className=\"form-control\" name=\"password\" id=\"password\" placeholder=\"Same as current\" onChange={event => setPassword(event.target.value)} />\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"password\" className=\"Register__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n                                          <div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"Bio\">Bio</label>\r\n\t\t\t\t\t\t\t\t<Field type=\"Bio\" className=\"form-control\" name=\"Bio\" id=\"Bio\"  onChange={event => setBio(event.target.value)}  />\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"Bio\" className=\"Register__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n                                          <div className=\"form-group my-3\">Avatar\r\n\t\t\t\t\t\t\t\t<input type=\"file\"\r\n\t\t\t\t\t\t\t\t       id=\"image\"\r\n\t\t\t\t\t\t\t\t       name=\"image\"\r\n\t\t\t\t\t\t\t\t       className=\"form-control\"\r\n\t\t\t\t\t\t\t\t       onChange={async (e) =>{ setFieldValue('image', e.target.files[0])\r\n\t\t\t\t\t\t\t\t\t   let imageString=await encodeImageFileAsURL(e)\r\n\t\t\t\t\t\t\t\t\t   if (imageString.includes(\"png\")) imageString = imageString.replace(\"data:image/png;base64,\",\"\");\r\n\t\t\t\t\t\t\t\t\t   if (imageString.includes(\"jpeg\")) imageString=imageString.replace(\"data:image/jpeg;base64,\",\"\");\r\n\t\t\t\t\t\t\t\t\t   setShowImage(imageString)\r\n\t\t\t\t\t\t\t\t\t   }}/>\r\n\t\t\t\t\t\t\t\t<ErrorMessage component=\"small\" name=\"image\" className=\"PostCreate__form__error\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\tSmall:\r\n                                          <img src={'data:; base64,' + showImage} className=\"Avatar Avatar--md\"  />\r\n\t\t\t\t\t\t\t\t\t\t  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t\t\t\t  Large:\r\n\t\t\t\t\t\t\t\t\t\t  <img src={'data:; base64,' + showImage} className=\"Avatar Avatar--lg\"  />\r\n\t\t\t\t\t\t\t{/* <button className=\"mt-3 Register__submit-btn\" onClick={togglePassword}>Change password?</button> */}\r\n\t\t\t\t\t\t\t{/* <div className=\"form-group my-3\">\r\n\t\t\t\t\t\t\t\t{ showSuccess\r\n\t\t\t\t\t\t\t\t\t? <div className=\"alert alert-success Register__success\"><b>Success!</b> Wait for transfer...</div>\r\n\t\t\t\t\t\t\t\t\t: <button type=\"submit\" className=\"mt-3 Register__submit-btn\" disabled={isSubmitting}>Submit</button>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div> */}\r\n                                          <div className=\"form-group my-3\">\r\n                                          <button  type=\"submit\" className=\"mt-3 Register__submit-btn\" >Submit</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ProfileEdit;\r\n","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Comments\\Comments.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Comments\\CommentAdd\\CommentAdd.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Comments\\Comment\\Comment.js",["195","196"],"import React, { useState, useEffect } from 'react';\r\nimport Avatar from '../../Avatar/Avatar';\r\nimport CommentDate from '../../Comments/CommentDate/CommentDate';\r\nimport { Link } from 'react-router-dom';\r\nimport { PostService } from '../../../services/post.service';\r\nimport { UserService } from '../../../services/user.service';\r\nfunction Comment({ comment }) {\r\n\tconst [showDeleteAndEdit, setShowDeleteAndEdit] = useState(false)\r\n\tconst [commenterName,setCommenterName] = useState(\"\")\r\n\tuseEffect(async () => {\r\n\t\tconst user = await UserService.me();\r\n\t\tconst data = await PostService.getCommentData(comment._id)\r\n\t\tconst userDataById = await UserService.getUserDataById(data.user)\r\n\t\tsetCommenterName(userDataById.username)\r\n\t\tif (user._id === data.user) {\r\n\t\t\tsetShowDeleteAndEdit(true)\r\n\t\t} else {\r\n\t\t\tsetShowDeleteAndEdit(false)\r\n\t\t}\r\n\t}, []);\r\n\t// show delete button if i'm the creator\r\n\tasync function erase() {\r\n\t\tawait PostService.deleteComment(comment._id)\r\n\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div>\r\n\t\t<Link to={'/profile/' +  commenterName}>\r\n\t\t\t<Avatar image={comment.user.avatar} />\r\n\t\t\t<div>{commenterName}</div>\r\n\t\t\t</Link>\r\n\t\t\t<p className=\"mb-0\">{comment.content}</p>\r\n\t\t\t<CommentDate date={comment.createdAt} />\r\n\t\t\t<button>Like</button>\r\n\t\t\t{showDeleteAndEdit && <div>\r\n\t\t\t\t<button onClick={erase}>Delete</button>\r\n\t\t\t\t<button>Edit</button></div>}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Comment;","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Profile\\ProfileEdit\\profileedit.schema.js",["197"],"import * as yup from 'yup';\r\nimport { UserService } from '../../services/user.service';\r\nimport environment from '../../environments/index';\r\nexport const profileedit = yup.object().shape({\r\n\tusername: yup.string()\r\n\t\t.min(2, 'Username is too short')\r\n\t\t.max(16, 'Username is too long')\r\n\t\t.required('Username is required')\r\n\t\t.test('isUnique', 'Username is already taken', (value) => isUsernameUnique(value)),\r\n\temail: yup.string()\r\n\t\t.email('Email is invalid')\r\n\t\t.required('Email is required')\r\n\t\t.test('isUnique', 'Email is in use', (value) => isEmailUnique(value)),\r\n\tpassword: yup.string()\r\n\t\t.min(6, 'Password is too short')\r\n\t\t.max(16, 'Password is too long'),\r\n\t\t// .required('Password is required')\r\n        bio: yup.string()\r\n        .max(150,'bio is too long, max 150')\r\n});\r\n\r\n// const memo = {\r\n// \temail: {},\r\n// \tusername: {}\r\n// };\r\n\r\n// async function isUnique(field,value) {\r\n//     let LoggedInUserName=await UserService.me();\r\n//     console.log(LoggedInUserName)\r\n//     if (LoggedInUserName.username===value) \r\n//     {\r\n//         return true\r\n//     }\r\n//     let LoggedInEmail = await UserService.getUserData(LoggedInUserName.username)\r\n//     if (LoggedInEmail.email===value){\r\n//         return true\r\n//     }\r\n//         if (memo[field].hasOwnProperty(value)) {\r\n//             return memo[field][value];\r\n//         }\r\n//         fetch(environment.apiUrl+`/user/check?${field}=${value}`)\r\n//             .then(res => res.json())\r\n//             .then(res => {\r\n//                 memo[field][value] = !res;\r\n//                 return memo[field][value];\r\n//             })\r\n//         }\r\n\r\n        async function isUsernameUnique(value){\r\n\t\t\tconst user = await UserService.me();\r\n            const userData = await UserService.getUserData(user.username)\r\n            const result = await UserService.checkUsername(value,userData.username)\r\n            return result\r\n        }\r\n        \r\n        async function isEmailUnique(value){\r\n\t\t\tconst user = await UserService.me();\r\n            const userData = await UserService.getUserData(user.username)\r\n            const result = await UserService.checkEmail(value,userData.email)\r\n            return result\r\n        }","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\common\\Comments\\CommentDate\\CommentDate.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Logout\\Logout.js",["198","199","200"],"import React,{  useState,useEffect,useContext} from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport {  useHistory } from 'react-router-dom';\r\nfunction Logout(props) {\r\n    const history = useHistory();\r\n\tasync function out(){\r\n\t\tCookies.remove('instagram-user');\r\n        history.push('/login');\r\n        props.setUser(\"\")\r\n        props.check()\r\n    }\r\n\r\n\treturn (\r\n    <div>\r\n    <button onClick={out}>Click here to log out</button>\r\n    </div>);\r\n}\r\n\r\nexport default Logout;\r\n","C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\environments\\production.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\Explore\\Explore.js",[],"C:\\Users\\Elashvili's\\Desktop\\instagram current 2\\instagram-ui\\src\\PostEdit\\PostEdit.js",["201","202","203","204","205"],{"ruleId":"206","replacedBy":"207"},{"ruleId":"208","replacedBy":"209"},{"ruleId":"210","severity":1,"message":"211","line":41,"column":8,"nodeType":"212","endLine":41,"endColumn":22,"suggestions":"213"},{"ruleId":"214","severity":1,"message":"215","line":51,"column":14,"nodeType":"216","messageId":"217","endLine":51,"endColumn":18},{"ruleId":"214","severity":1,"message":"218","line":13,"column":9,"nodeType":"216","messageId":"217","endLine":13,"endColumn":17},{"ruleId":"219","severity":1,"message":"220","line":102,"column":43,"nodeType":"221","endLine":102,"endColumn":118},{"ruleId":"219","severity":1,"message":"220","line":105,"column":13,"nodeType":"221","endLine":105,"endColumn":87},{"ruleId":"214","severity":1,"message":"222","line":1,"column":26,"nodeType":"216","messageId":"217","endLine":1,"endColumn":35},{"ruleId":"219","severity":1,"message":"220","line":82,"column":21,"nodeType":"221","endLine":82,"endColumn":87},{"ruleId":"214","severity":1,"message":"223","line":1,"column":37,"nodeType":"216","messageId":"217","endLine":1,"endColumn":47},{"ruleId":"214","severity":1,"message":"224","line":11,"column":10,"nodeType":"216","messageId":"217","endLine":11,"endColumn":21},{"ruleId":"214","severity":1,"message":"225","line":22,"column":9,"nodeType":"216","messageId":"217","endLine":22,"endColumn":17},{"ruleId":"214","severity":1,"message":"226","line":22,"column":18,"nodeType":"216","messageId":"217","endLine":22,"endColumn":29},{"ruleId":"210","severity":1,"message":"227","line":24,"column":12,"nodeType":"228","endLine":63,"endColumn":3},{"ruleId":"210","severity":1,"message":"229","line":63,"column":5,"nodeType":"212","endLine":63,"endColumn":31,"suggestions":"230"},{"ruleId":"214","severity":1,"message":"231","line":2,"column":8,"nodeType":"216","messageId":"217","endLine":2,"endColumn":19},{"ruleId":"214","severity":1,"message":"223","line":2,"column":37,"nodeType":"216","messageId":"217","endLine":2,"endColumn":47},{"ruleId":"214","severity":1,"message":"224","line":5,"column":10,"nodeType":"216","messageId":"217","endLine":5,"endColumn":21},{"ruleId":"214","severity":1,"message":"232","line":9,"column":9,"nodeType":"216","messageId":"217","endLine":9,"endColumn":18},{"ruleId":"214","severity":1,"message":"233","line":9,"column":19,"nodeType":"216","messageId":"217","endLine":9,"endColumn":31},{"ruleId":"210","severity":1,"message":"234","line":24,"column":5,"nodeType":"212","endLine":24,"endColumn":7,"suggestions":"235"},{"ruleId":"214","severity":1,"message":"236","line":9,"column":14,"nodeType":"216","messageId":"217","endLine":9,"endColumn":29},{"ruleId":"214","severity":1,"message":"237","line":5,"column":8,"nodeType":"216","messageId":"217","endLine":5,"endColumn":12},{"ruleId":"210","severity":1,"message":"238","line":19,"column":5,"nodeType":"212","endLine":19,"endColumn":17,"suggestions":"239"},{"ruleId":"210","severity":1,"message":"240","line":41,"column":4,"nodeType":"212","endLine":41,"endColumn":16,"suggestions":"241"},{"ruleId":"214","severity":1,"message":"242","line":11,"column":14,"nodeType":"216","messageId":"217","endLine":11,"endColumn":25},{"ruleId":"214","severity":1,"message":"243","line":11,"column":27,"nodeType":"216","messageId":"217","endLine":11,"endColumn":37},{"ruleId":"210","severity":1,"message":"244","line":95,"column":6,"nodeType":"212","endLine":95,"endColumn":14,"suggestions":"245"},{"ruleId":"219","severity":1,"message":"220","line":169,"column":43,"nodeType":"221","endLine":169,"endColumn":116},{"ruleId":"219","severity":1,"message":"220","line":172,"column":13,"nodeType":"221","endLine":172,"endColumn":86},{"ruleId":"210","severity":1,"message":"227","line":10,"column":12,"nodeType":"228","endLine":20,"endColumn":3},{"ruleId":"210","severity":1,"message":"246","line":20,"column":5,"nodeType":"212","endLine":20,"endColumn":7,"suggestions":"247"},{"ruleId":"214","severity":1,"message":"231","line":3,"column":8,"nodeType":"216","messageId":"217","endLine":3,"endColumn":19},{"ruleId":"214","severity":1,"message":"248","line":1,"column":17,"nodeType":"216","messageId":"217","endLine":1,"endColumn":25},{"ruleId":"214","severity":1,"message":"222","line":1,"column":26,"nodeType":"216","messageId":"217","endLine":1,"endColumn":35},{"ruleId":"214","severity":1,"message":"223","line":1,"column":36,"nodeType":"216","messageId":"217","endLine":1,"endColumn":46},{"ruleId":"214","severity":1,"message":"222","line":1,"column":26,"nodeType":"216","messageId":"217","endLine":1,"endColumn":35},{"ruleId":"214","severity":1,"message":"249","line":2,"column":18,"nodeType":"216","messageId":"217","endLine":2,"endColumn":23},{"ruleId":"214","severity":1,"message":"250","line":9,"column":17,"nodeType":"216","messageId":"217","endLine":9,"endColumn":29},{"ruleId":"214","severity":1,"message":"251","line":10,"column":21,"nodeType":"216","messageId":"217","endLine":10,"endColumn":35},{"ruleId":"219","severity":1,"message":"220","line":53,"column":21,"nodeType":"221","endLine":53,"endColumn":87},"no-native-reassign",["252"],"no-negated-in-lhs",["253"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'isLoggedIn' and 'userObject'. Either include them or remove the dependency array.","ArrayExpression",["254"],"no-unused-vars","'test' is defined but never used.","Identifier","unusedVar","'disabled' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useEffect' is defined but never used.","'useContext' is defined but never used.","'UserContext' is defined but never used.","'userData' is assigned a value but never used.","'setUserData' is assigned a value but never used.","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","React Hook useEffect has a missing dependency: 'followedUserId'. Either include it or remove the dependency array.",["255"],"'environment' is defined but never used.","'followers' is assigned a value but never used.","'setFollowers' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'userData' and 'username'. Either include them or remove the dependency array.",["256"],"'usernameHandler' is defined but never used.","'Post' is defined but never used.","React Hook useEffect has a missing dependency: 'data._id'. Either include it or remove the dependency array.",["257"],"React Hook useEffect has missing dependencies: 'data._id', 'data.user.username', 'gaveLikeTo', and 'username'. Either include them or remove the dependency array.",["258"],"'showSuccess' is assigned a value but never used.","'setSuccess' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'password', 'setUser', 'userData.password', 'userObject', 'username', and 'values'. Either include them or remove the dependency array.",["259"],"React Hook useEffect has a missing dependency: 'comment._id'. Either include it or remove the dependency array.",["260"],"'useState' is defined but never used.","'Field' is defined but never used.","'setShowImage' is assigned a value but never used.","'setShowPreview' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"261","fix":"262"},{"desc":"263","fix":"264"},{"desc":"265","fix":"266"},{"desc":"267","fix":"268"},{"desc":"269","fix":"270"},{"desc":"271","fix":"272"},{"desc":"273","fix":"274"},"Update the dependencies array to be: [history, isLoggedIn, user, userObject]",{"range":"275","text":"276"},"Update the dependencies array to be: [username, followingUserId, followedUserId]",{"range":"277","text":"278"},"Update the dependencies array to be: [userData, username]",{"range":"279","text":"280"},"Update the dependencies array to be: [data._id, likeButton]",{"range":"281","text":"282"},"Update the dependencies array to be: [data._id, data.user.username, gaveLikeTo, likeButton, username]",{"range":"283","text":"284"},"Update the dependencies array to be: [editIt, password, setUser, userData.password, userObject, username, values]",{"range":"285","text":"286"},"Update the dependencies array to be: [comment._id]",{"range":"287","text":"288"},[1474,1488],"[history, isLoggedIn, user, userObject]",[2034,2060],"[username, followingUserId, followedUserId]",[673,675],"[userData, username]",[791,803],"[data._id, likeButton]",[1430,1442],"[data._id, data.user.username, gaveLikeTo, likeButton, username]",[3185,3193],"[editIt, password, setUser, userData.password, userObject, username, values]",[845,847],"[comment._id]"]